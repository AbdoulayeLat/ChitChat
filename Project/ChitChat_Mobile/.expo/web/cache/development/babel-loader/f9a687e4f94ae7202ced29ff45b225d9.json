{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this;\n\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Contacts from 'react-native-contacts';\nimport Colors from \"../utils/Colors\";\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { auth, storage, firestore } from \"../firebase\";\nimport { ref, getDownloadURL } from '@firebase/storage';\nimport { collection, doc, getDoc } from \"firebase/firestore\";\nimport { useFonts } from 'expo-font';\nimport { Roboto_400Regular, Roboto_500Medium } from '@expo-google-fonts/roboto';\nimport AppLoading from 'expo-app-loading';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Profile = function Profile(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n  var user = auth.currentUser;\n  var token = user.uid;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      firstName = _React$useState2[0],\n      setFirstname = _React$useState2[1];\n\n  var _React$useState3 = React.useState(),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      lastName = _React$useState4[0],\n      setLastname = _React$useState4[1];\n\n  var phoneNumber = route.params.phoneNumber;\n\n  var _React$useState5 = React.useState(),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      imageURL = _React$useState6[0],\n      setImageURL = _React$useState6[1];\n\n  var storageRef = ref(storage, 'images/ProfilePictures/' + token);\n\n  var _useFonts = useFonts({\n    Roboto_400Regular: Roboto_400Regular,\n    Roboto_500Medium: Roboto_500Medium\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontsLoaded = _useFonts2[0];\n\n  if (!fontsLoaded) {\n    return _jsx(AppLoading, {});\n  }\n\n  handleEditable = function handleEditable() {\n    return _this.setState({\n      editable: true\n    });\n  };\n\n  getDoc(doc(firestore, \"users\", phoneNumber)).then(function (docSnap) {\n    if (docSnap.exists()) {\n      setFirstname(docSnap.get(\"firstName\"));\n      setLastname(docSnap.get(\"lastName\"));\n    } else {\n      console.log(\"No such document!\");\n    }\n  });\n  getDownloadURL(storageRef).then(function (url) {\n    setImageURL(url);\n  }).catch(function (error) {\n    console.log(error);\n  });\n  return _jsx(SafeAreaView, {\n    style: styles.container,\n    children: _jsxs(View, {\n      style: styles.pictureView,\n      children: [_jsxs(View, {\n        style: styles.infoView,\n        children: [_jsx(Image, {\n          style: styles.profilepicture,\n          source: {\n            uri: imageURL\n          }\n        }), _jsx(Text, {\n          style: styles.name,\n          children: firstName + \" \" + lastName\n        }), _jsx(Text, {\n          style: styles.phoneNumber,\n          children: phoneNumber\n        })]\n      }), _jsx(View, {\n        style: styles.optionView\n      })]\n    })\n  });\n};\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: Colors.Primary\n  },\n  profilepicture: {\n    resizeMode: 'contain',\n    height: 140,\n    width: 140,\n    borderRadius: 40,\n    marginVertical: 20\n  },\n  pictureView: {\n    alignItems: 'center'\n  },\n  infoView: {\n    backgroundColor: Colors.Secondary,\n    alignItems: 'center',\n    borderRadius: 30,\n    width: \"80%\",\n    height: 255,\n    marginTop: 15\n  },\n  optionView: {\n    backgroundColor: Colors.Secondary,\n    alignItems: 'center',\n    borderRadius: 30,\n    width: \"90%\",\n    height: 365,\n    marginTop: 20\n  },\n  name: {\n    fontSize: 30,\n    color: Colors.BLACK\n  },\n  phoneNumber: {\n    fontSize: 20,\n    color: Colors.LIGHT_BLACK,\n    marginTop: 5\n  },\n  editInfo: {\n    fontSize: 15,\n    marginVertical: 10,\n    color: Colors.LIGHT_BLACK\n  },\n  status: {\n    color: Colors.BLACK\n  }\n});\nexport default Profile;","map":{"version":3,"sources":["/Users/abdoulayendiaye/Desktop/ChitChat/Project/ChitChat_Mobile/screens/Profile.js"],"names":["React","useState","useEffect","Contacts","Colors","SafeAreaView","auth","storage","firestore","ref","getDownloadURL","collection","doc","getDoc","useFonts","Roboto_400Regular","Roboto_500Medium","AppLoading","NavigationContainer","createBottomTabNavigator","Profile","route","navigation","user","currentUser","token","uid","firstName","setFirstname","lastName","setLastname","phoneNumber","params","imageURL","setImageURL","storageRef","fontsLoaded","handleEditable","setState","editable","then","docSnap","exists","get","console","log","url","catch","error","styles","container","pictureView","infoView","profilepicture","uri","name","optionView","StyleSheet","create","flex","backgroundColor","Primary","resizeMode","height","width","borderRadius","marginVertical","alignItems","Secondary","marginTop","fontSize","color","BLACK","LIGHT_BLACK","editInfo","status"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {View, Text, StyleSheet, TextInput, Image, TouchableOpacity} from 'react-native';\nimport Contacts from 'react-native-contacts';\nimport Colors from '../utils/Colors';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { auth, storage, firestore } from '../firebase';\nimport { ref, getDownloadURL } from '@firebase/storage';\nimport { collection, doc, getDoc } from \"firebase/firestore\"; \nimport { useFonts } from 'expo-font';\nimport { Roboto_400Regular, Roboto_500Medium} from '@expo-google-fonts/roboto';\nimport AppLoading from 'expo-app-loading';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\nconst Profile = ({ route, navigation}) => {\n  const user = auth.currentUser;\n  const token = user.uid;\n  const [firstName, setFirstname] = React.useState();\n  const [lastName, setLastname] = React.useState();\n  const phoneNumber = route.params.phoneNumber;\n  const [imageURL, setImageURL] = React.useState();\n  const storageRef = ref(storage, 'images/ProfilePictures/'+token);\n\n  // Load Fonts\n  let [fontsLoaded] = useFonts({\n    Roboto_400Regular,\n    Roboto_500Medium,\n  });\n\n  if(!fontsLoaded){\n    return <AppLoading/>;\n  }\n\n  handleEditable = () => this.setState({ editable: true })\n\n  //Get Data from Firestore DBf\n  getDoc(doc(firestore, \"users\", phoneNumber)).then(docSnap => {\n    if (docSnap.exists()) {\n      setFirstname(docSnap.get(\"firstName\"))\n      setLastname(docSnap.get(\"lastName\"))\n    } else {\n      console.log(\"No such document!\");\n    }\n  })\n\n  //Download Profile Picture from Firebase Storage\n  getDownloadURL(storageRef)\n  .then((url) => {\n    setImageURL(url)\n  })\n  .catch((error) => {\n    console.log(error)\n  });\n\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.pictureView}>\n        <View style={styles.infoView}>\n          <Image style={styles.profilepicture} source={{uri: imageURL}} />\n          <Text style={styles.name}>{firstName + \" \" + lastName}</Text>\n          <Text style={styles.phoneNumber}>{phoneNumber}</Text>\n        </View>\n        <View style={styles.optionView}>\n          \n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor:  Colors.Primary,\n  },\n  profilepicture:{ \n    resizeMode: 'contain',\n    height: 140,\n    width: 140,\n    borderRadius: 40,\n    marginVertical: 20,\n  },\n  pictureView:{\n    alignItems: 'center'\n  },\n  infoView:{\n    backgroundColor: Colors.Secondary,\n    alignItems:'center',\n    borderRadius: 30,\n    width: \"80%\",\n    height: 255,\n    marginTop: 15,\n  },\n  optionView:{\n    backgroundColor: Colors.Secondary,\n    alignItems:'center',\n    borderRadius: 30,\n    width: \"90%\",\n    height: 365,\n    marginTop: 20,\n  },\n  name:{\n    fontSize: 30,\n    color: Colors.BLACK,\n\n  },\n  phoneNumber:{\n    fontSize: 20,\n    color: Colors.LIGHT_BLACK,\n\n    marginTop: 5,\n  },\n  editInfo:{\n    fontSize:15,\n    marginVertical:10,\n    color: Colors.LIGHT_BLACK,\n  },\n  status:{\n    color: Colors.BLACK\n  },\n});\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}