{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Image from\"react-native-web/dist/exports/Image\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Colors from\"../utils/Colors\";import{SafeAreaView}from'react-native-safe-area-context';import{auth,storage,firestore}from\"../firebase\";import{ref,getDownloadURL}from'@firebase/storage';import{collection,doc,getDoc}from\"firebase/firestore\";import{useFonts}from'expo-font';import{Roboto_400Regular,Roboto_500Medium}from'@expo-google-fonts/roboto';import AppLoading from'expo-app-loading';import{NavigationContainer}from'@react-navigation/native';import{createBottomTabNavigator}from'@react-navigation/bottom-tabs';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Profile=function Profile(_ref){var route=_ref.route,navigation=_ref.navigation;var user=auth.currentUser;var token=user.uid;var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),firstName=_React$useState2[0],setFirstname=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),lastName=_React$useState4[0],setLastname=_React$useState4[1];var phoneNumber=route.params.phoneNumber;var _React$useState5=React.useState(),_React$useState6=_slicedToArray(_React$useState5,2),imageURL=_React$useState6[0],setImageURL=_React$useState6[1];var storageRef=ref(storage,'images/ProfilePictures/'+token);var _useFonts=useFonts({Roboto_400Regular:Roboto_400Regular,Roboto_500Medium:Roboto_500Medium}),_useFonts2=_slicedToArray(_useFonts,1),fontsLoaded=_useFonts2[0];if(!fontsLoaded){return _jsx(AppLoading,{});}getDoc(doc(firestore,\"users\",phoneNumber)).then(function(docSnap){if(docSnap.exists()){setFirstname(docSnap.get(\"firstName\"));setLastname(docSnap.get(\"lastName\"));}else{console.log(\"No such document!\");}});getDownloadURL(storageRef).then(function(url){setImageURL(url);}).catch(function(error){console.log(error);});return _jsx(SafeAreaView,{style:styles.container,children:_jsx(View,{style:styles.pictureView,children:_jsxs(View,{style:styles.infoView,children:[_jsx(Image,{style:styles.profilepicture,source:{uri:imageURL}}),_jsx(Text,{style:styles.name,children:firstName+\" \"+lastName}),_jsx(Text,{style:styles.phoneNumber,children:phoneNumber})]})})});};var styles=StyleSheet.create({container:{flex:1,backgroundColor:Colors.Primary},profilepicture:{resizeMode:'contain',height:140,width:140,borderRadius:40,marginVertical:20},pictureView:{alignItems:'center'},infoView:{backgroundColor:Colors.Secondary,alignItems:'center',borderRadius:30,width:\"80%\",height:255,marginTop:15},optionView:{backgroundColor:Colors.Secondary,alignItems:'center',borderRadius:30,width:\"90%\",height:365,marginTop:20},name:{fontSize:30,color:Colors.BLACK},phoneNumber:{fontSize:20,color:Colors.LIGHT_BLACK,marginTop:5},editInfo:{fontSize:15,marginVertical:10,color:Colors.LIGHT_BLACK},status:{color:Colors.BLACK}});export default Profile;","map":{"version":3,"sources":["/Users/abdoulayendiaye/Documents/chitchat/screens/Profile.js"],"names":["React","useState","useEffect","Colors","SafeAreaView","auth","storage","firestore","ref","getDownloadURL","collection","doc","getDoc","useFonts","Roboto_400Regular","Roboto_500Medium","AppLoading","NavigationContainer","createBottomTabNavigator","Profile","route","navigation","user","currentUser","token","uid","firstName","setFirstname","lastName","setLastname","phoneNumber","params","imageURL","setImageURL","storageRef","fontsLoaded","then","docSnap","exists","get","console","log","url","catch","error","styles","container","pictureView","infoView","profilepicture","uri","name","StyleSheet","create","flex","backgroundColor","Primary","resizeMode","height","width","borderRadius","marginVertical","alignItems","Secondary","marginTop","optionView","fontSize","color","BLACK","LIGHT_BLACK","editInfo","status"],"mappings":"iEAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,C,8WAEA,MAAOC,CAAAA,MAAP,uBACA,OAASC,YAAT,KAA6B,gCAA7B,CACA,OAASC,IAAT,CAAeC,OAAf,CAAwBC,SAAxB,mBACA,OAASC,GAAT,CAAcC,cAAd,KAAoC,mBAApC,CACA,OAASC,UAAT,CAAqBC,GAArB,CAA0BC,MAA1B,KAAwC,oBAAxC,CACA,OAASC,QAAT,KAAyB,WAAzB,CACA,OAASC,iBAAT,CAA4BC,gBAA5B,KAAmD,2BAAnD,CACA,MAAOC,CAAAA,UAAP,KAAuB,kBAAvB,CACA,OAASC,mBAAT,KAAoC,0BAApC,CACA,OAASC,wBAAT,KAAyC,+BAAzC,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAA0B,IAAvBC,CAAAA,KAAuB,MAAvBA,KAAuB,CAAhBC,UAAgB,MAAhBA,UAAgB,CACxC,GAAMC,CAAAA,IAAI,CAAGjB,IAAI,CAACkB,WAAlB,CACA,GAAMC,CAAAA,KAAK,CAAGF,IAAI,CAACG,GAAnB,CACA,oBAAkCzB,KAAK,CAACC,QAAN,EAAlC,oDAAOyB,SAAP,qBAAkBC,YAAlB,qBACA,qBAAgC3B,KAAK,CAACC,QAAN,EAAhC,qDAAO2B,QAAP,qBAAiBC,WAAjB,qBACA,GAAMC,CAAAA,WAAW,CAAGV,KAAK,CAACW,MAAN,CAAaD,WAAjC,CACA,qBAAgC9B,KAAK,CAACC,QAAN,EAAhC,qDAAO+B,QAAP,qBAAiBC,WAAjB,qBACA,GAAMC,CAAAA,UAAU,CAAG1B,GAAG,CAACF,OAAD,CAAU,0BAA0BkB,KAApC,CAAtB,CAGA,cAAoBX,QAAQ,CAAC,CAC3BC,iBAAiB,CAAjBA,iBAD2B,CAE3BC,gBAAgB,CAAhBA,gBAF2B,CAAD,CAA5B,wCAAKoB,WAAL,eAKA,GAAG,CAACA,WAAJ,CAAgB,CACd,MAAO,MAAC,UAAD,IAAP,CACD,CAGDvB,MAAM,CAACD,GAAG,CAACJ,SAAD,CAAY,OAAZ,CAAqBuB,WAArB,CAAJ,CAAN,CAA6CM,IAA7C,CAAkD,SAAAC,OAAO,CAAI,CAC3D,GAAIA,OAAO,CAACC,MAAR,EAAJ,CAAsB,CACpBX,YAAY,CAACU,OAAO,CAACE,GAAR,CAAY,WAAZ,CAAD,CAAZ,CACAV,WAAW,CAACQ,OAAO,CAACE,GAAR,CAAY,UAAZ,CAAD,CAAX,CACD,CAHD,IAGO,CACLC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,CACF,CAPD,EAUAhC,cAAc,CAACyB,UAAD,CAAd,CACCE,IADD,CACM,SAACM,GAAD,CAAS,CACbT,WAAW,CAACS,GAAD,CAAX,CACD,CAHD,EAICC,KAJD,CAIO,SAACC,KAAD,CAAW,CAChBJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,EACD,CAND,EASA,MACE,MAAC,YAAD,EAAc,KAAK,CAAEC,MAAM,CAACC,SAA5B,UACE,KAAC,IAAD,EAAM,KAAK,CAAED,MAAM,CAACE,WAApB,UACE,MAAC,IAAD,EAAM,KAAK,CAAEF,MAAM,CAACG,QAApB,WACE,KAAC,KAAD,EAAO,KAAK,CAAEH,MAAM,CAACI,cAArB,CAAqC,MAAM,CAAE,CAACC,GAAG,CAAElB,QAAN,CAA7C,EADF,CAEE,KAAC,IAAD,EAAM,KAAK,CAAEa,MAAM,CAACM,IAApB,UAA2BzB,SAAS,CAAG,GAAZ,CAAkBE,QAA7C,EAFF,CAGE,KAAC,IAAD,EAAM,KAAK,CAAEiB,MAAM,CAACf,WAApB,UAAkCA,WAAlC,EAHF,GADF,EADF,EADF,CAWD,CAlDD,CAoDA,GAAMe,CAAAA,MAAM,CAAGO,UAAU,CAACC,MAAX,CAAkB,CAC/BP,SAAS,CAAE,CACTQ,IAAI,CAAE,CADG,CAETC,eAAe,CAAGpD,MAAM,CAACqD,OAFhB,CADoB,CAK/BP,cAAc,CAAC,CACbQ,UAAU,CAAE,SADC,CAEbC,MAAM,CAAE,GAFK,CAGbC,KAAK,CAAE,GAHM,CAIbC,YAAY,CAAE,EAJD,CAKbC,cAAc,CAAE,EALH,CALgB,CAY/Bd,WAAW,CAAC,CACVe,UAAU,CAAE,QADF,CAZmB,CAe/Bd,QAAQ,CAAC,CACPO,eAAe,CAAEpD,MAAM,CAAC4D,SADjB,CAEPD,UAAU,CAAC,QAFJ,CAGPF,YAAY,CAAE,EAHP,CAIPD,KAAK,CAAE,KAJA,CAKPD,MAAM,CAAE,GALD,CAMPM,SAAS,CAAE,EANJ,CAfsB,CAuB/BC,UAAU,CAAC,CACTV,eAAe,CAAEpD,MAAM,CAAC4D,SADf,CAETD,UAAU,CAAC,QAFF,CAGTF,YAAY,CAAE,EAHL,CAITD,KAAK,CAAE,KAJE,CAKTD,MAAM,CAAE,GALC,CAMTM,SAAS,CAAE,EANF,CAvBoB,CA+B/Bb,IAAI,CAAC,CACHe,QAAQ,CAAE,EADP,CAEHC,KAAK,CAAEhE,MAAM,CAACiE,KAFX,CA/B0B,CAoC/BtC,WAAW,CAAC,CACVoC,QAAQ,CAAE,EADA,CAEVC,KAAK,CAAEhE,MAAM,CAACkE,WAFJ,CAIVL,SAAS,CAAE,CAJD,CApCmB,CA0C/BM,QAAQ,CAAC,CACPJ,QAAQ,CAAC,EADF,CAEPL,cAAc,CAAC,EAFR,CAGPM,KAAK,CAAEhE,MAAM,CAACkE,WAHP,CA1CsB,CA+C/BE,MAAM,CAAC,CACLJ,KAAK,CAAEhE,MAAM,CAACiE,KADT,CA/CwB,CAAlB,CAAf,CAoDA,cAAejD,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {View, Text, StyleSheet, TextInput, Image, TouchableOpacity} from 'react-native';\nimport Colors from '../utils/Colors';\nimport { SafeAreaView } from 'react-native-safe-area-context';\nimport { auth, storage, firestore } from '../firebase';\nimport { ref, getDownloadURL } from '@firebase/storage';\nimport { collection, doc, getDoc } from \"firebase/firestore\"; \nimport { useFonts } from 'expo-font';\nimport { Roboto_400Regular, Roboto_500Medium} from '@expo-google-fonts/roboto';\nimport AppLoading from 'expo-app-loading';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\n\nconst Profile = ({ route, navigation}) => {\n  const user = auth.currentUser;\n  const token = user.uid;\n  const [firstName, setFirstname] = React.useState();\n  const [lastName, setLastname] = React.useState();\n  const phoneNumber = route.params.phoneNumber;\n  const [imageURL, setImageURL] = React.useState();\n  const storageRef = ref(storage, 'images/ProfilePictures/'+token);\n\n  // Load Fonts\n  let [fontsLoaded] = useFonts({\n    Roboto_400Regular,\n    Roboto_500Medium,\n  });\n\n  if(!fontsLoaded){\n    return <AppLoading/>;\n  }\n\n  //Get Data from Firestore DBf\n  getDoc(doc(firestore, \"users\", phoneNumber)).then(docSnap => {\n    if (docSnap.exists()) {\n      setFirstname(docSnap.get(\"firstName\"))\n      setLastname(docSnap.get(\"lastName\"))\n    } else {\n      console.log(\"No such document!\");\n    }\n  })\n\n  //Download Profile Picture from Firebase Storage\n  getDownloadURL(storageRef)\n  .then((url) => {\n    setImageURL(url)\n  })\n  .catch((error) => {\n    console.log(error)\n  });\n\n\n  return (\n    <SafeAreaView style={styles.container}>\n      <View style={styles.pictureView}>\n        <View style={styles.infoView}>\n          <Image style={styles.profilepicture} source={{uri: imageURL}} />\n          <Text style={styles.name}>{firstName + \" \" + lastName}</Text>\n          <Text style={styles.phoneNumber}>{phoneNumber}</Text>\n        </View>\n      </View>\n    </SafeAreaView>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor:  Colors.Primary,\n  },\n  profilepicture:{ \n    resizeMode: 'contain',\n    height: 140,\n    width: 140,\n    borderRadius: 40,\n    marginVertical: 20,\n  },\n  pictureView:{\n    alignItems: 'center'\n  },\n  infoView:{\n    backgroundColor: Colors.Secondary,\n    alignItems:'center',\n    borderRadius: 30,\n    width: \"80%\",\n    height: 255,\n    marginTop: 15,\n  },\n  optionView:{\n    backgroundColor: Colors.Secondary,\n    alignItems:'center',\n    borderRadius: 30,\n    width: \"90%\",\n    height: 365,\n    marginTop: 20,\n  },\n  name:{\n    fontSize: 30,\n    color: Colors.BLACK,\n\n  },\n  phoneNumber:{\n    fontSize: 20,\n    color: Colors.LIGHT_BLACK,\n\n    marginTop: 5,\n  },\n  editInfo:{\n    fontSize:15,\n    marginVertical:10,\n    color: Colors.LIGHT_BLACK,\n  },\n  status:{\n    color: Colors.BLACK\n  },\n});\n\nexport default Profile;"]},"metadata":{},"sourceType":"module"}