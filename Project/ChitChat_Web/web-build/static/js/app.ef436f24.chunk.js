(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{293:function(e,t,r){"use strict";r.d(t,"a",(function(){return oe}));var n=r(16),a=r.n(n),o=r(0),c=r.n(o),i=(r(429),r(12)),s={Primary:"#1A1D53",Secondary:"#09D3AF",Warning:"#E71616",BLUE:"#3543bf",ORANGE:"#fe7d32",GREEN:"#30a960",RED:"#f06159",BLACK:"#0b0b0b",SILVER:"#efefef",WHITE:"#fff",GREY:"#7e7e7e",WHITE_GREY:"#d4d4d4",DARK_GREY:"#555555",LIGHT_BLACK:"#212121",DARK_RED:"#c04d47",SEMI_TRANSPARENT:"rgba(0,0,0,0.5)",LIGHT_RED:"#fef3ec",YELLOW:"#fec72e",LIGHT_GREY:"#a9a9a9",PALE_YELLOW:"#fff6ef",DARK_BLUE:"#2e68b2",LIGHT_BLUE:"#EEEFF9"},l=r(446),u=r(447),d=r(20),b=r.n(d),h=r(9),f=r(26),p=r(72),g=r(82),j=r(50),m=r(145),x=r(103),O=r(52),y=r(85),S=r(244),w=r(115);0===w.a.apps.length?w.a.initializeApp({apiKey:"AIzaSyAK9o-m9i97W--01XikQipHNUV4EQfdIM8",authDomain:"chit-cae27.firebaseapp.com",projectId:"chit-cae27",storageBucket:"chit-cae27.appspot.com",messagingSenderId:"749327233673",appId:"1:749327233673:web:f182f17c238213d4320c58",measurementId:"G-WT8ML4X9HT"}):w.a.app();var P=Object(x.b)(),T=Object(O.e)(),v=Object(y.b)(),C=(Object(S.a)(),r(449)),I=(r(1),r(8)),E=Object(m.a)(),R=i.a.create({homeScreen:{backgroundColor:s.Primary,flex:1,alignItems:"center"},loginView:{backgroundColor:s.Secondary,height:"80%",width:"35%",borderRadius:40,alignItems:"center",marginTop:"3%"},loginText:{color:s.Primary,fontSize:40,fontWeight:"bold",marginTop:20},textInput:{marginTop:5,marginBottom:5,borderWidth:2,borderRadius:10,borderColor:s.Primary,fontSize:20,height:40,width:300,textAlign:"center"},textInfo:{color:s.Primary,fontSize:20,marginTop:18,fontWeight:"bold"},btnOTP:{backgroundColor:s.Primary,borderRadius:10,marginTop:10,marginBottom:5},btnLogin:{backgroundColor:s.Primary,borderRadius:10,marginTop:5}}),k=function(e){var t=e.navigation,n=c.a.useRef(null),i=c.a.useState(),l=a()(i,2),u=(l[0],l[1],E&&E.options,c.a.useState()),d=a()(u,2),m=d[0],y=d[1],S=c.a.useState("+1"),w=a()(S,2),v=w[0],k=w[1],L=c.a.useState(""),A=a()(L,2),N=A[0],W=A[1],z=Object(o.useState)(!1),U=a()(z,2),_=(U[0],U[1]);return Object(I.jsx)(h.a,{style:R.homeScreen,children:Object(I.jsxs)(h.a,{style:R.loginView,children:[Object(I.jsx)(j.a,{source:r(313),style:{width:200,height:200,marginTop:20,borderRadius:40}}),Object(I.jsx)(f.a,{style:R.loginText,children:"WELCOME\ud83d\udc4b\ud83c\udffd"}),Object(I.jsx)(f.a,{style:R.textInfo,children:"Enter Your Phone Number:"}),Object(I.jsx)(p.a,{style:R.textInput,placeholder:"+11234567899",onChangeText:function(e){return k(e.replace(/ /g,""))}}),Object(I.jsx)(f.a,{style:{color:"grey",fontSize:15},children:"*You will receive a code on your phone number"}),Object(I.jsx)(g.a,{style:R.btnOTP,onPress:function(){return function(){var e,t;return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(v&&v.length>9)){r.next=15;break}return r.prev=1,e=new x.a(P),r.next=5,b.a.awrap(e.verifyPhoneNumber(v,n.current));case 5:t=r.sent,y(t),_(!0),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(1),alert(r.t0.message);case 13:r.next=16;break;case 15:alert("Please enter a 10 digit number");case 16:case"end":return r.stop()}}),null,null,[[1,10]],Promise)}()},children:Object(I.jsx)(f.a,{style:{color:s.Secondary,fontWeight:"700",fontSize:20,padding:10},children:"Get OTP"})}),Object(I.jsx)(C.a,{ref:n,firebaseConfig:E.options,attemptInvisibleVerification:!0,androidHardwareAccelerationDisabled:!0}),Object(I.jsx)(p.a,{style:R.textInput,placeholder:"Enter your One-Time-Password",onChangeText:function(e){return W(e)}}),Object(I.jsx)(g.a,{style:R.btnLogin,onPress:function(){return function(){var e,r,n;return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e=x.a.credential(m,N),a.next=4,b.a.awrap(Object(x.c)(P,e));case 4:return _(!1),r=P.currentUser.uid,n=Object(O.c)(T,"users",v),a.next=9,b.a.awrap(Object(O.i)(T,(function(e){return b.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.a.awrap(e.get(n));case 2:a.sent.exists()?t.replace("Main",{paramKey:v,paramToken:r}):t.navigate("Registration",{paramKey:v,paramToken:r});case 4:case"end":return a.stop()}}),null,null,null,Promise)})));case 9:a.sent,a.next=16;break;case 12:a.prev=12,a.t0=a.catch(0),_(!1),console.log(a.t0.message);case 16:case"end":return a.stop()}}),null,null,[[0,12]],Promise)}()},children:Object(I.jsx)(f.a,{style:{color:s.Secondary,fontWeight:"700",fontSize:20,padding:10},children:"LOGIN"})})]})})},L=r(10),A=r.n(L),N=r(56),W=r(208);function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){A()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _=i.a.create({view:{backgroundColor:s.Primary,flex:1}}),H=function(e){var t,r=e.route,n=e.navigation,i=Object(o.useState)([]),l=a()(i,2),u=l[0],d=l[1],p=Object(o.useState)(),g=a()(p,2),j=g[0],m=(g[1],P.currentUser.uid),S=c.a.useState(),w=a()(S,2),C=w[0],E=w[1],R=P.currentUser.phoneNumber,k=r.params.friendPhoneNumber,L=c.a.useState(),A=a()(L,2),z=(A[0],A[1],Object(y.c)(v,"images/ProfilePictures/"+m)),H=function(){Object(x.d)(P).then((function(){n.replace("Home")})).catch((function(e){}))};Object(y.a)(z).then((function(e){E(e)})).catch((function(e){console.log(e)})),Object(o.useLayoutEffect)((function(){n.setOptions({headerRight:function(){return Object(I.jsx)(N.a,{style:{marginRight:10},onPress:H,children:Object(I.jsx)(f.a,{style:{color:"white",fontWeight:"bold",fontSize:18},children:"Logout"})})},title:k,headerStyle:{backgroundColor:s.Primary}})}),[n]),Object(o.useEffect)((function(){var e=Object(O.h)(Object(O.b)(T,"chats/"+R+"/"+k.toString()),Object(O.g)("createdAt","desc")),t=Object(O.f)(e,(function(e){return d(e.docs.map((function(e){return{_id:e.data()._id,createdAt:e.data().createdAt.toDate(),text:e.data().text,user:e.data().user}})))}));return function(){t()}}));var G=Object(o.useCallback)((function(){var e,t,r,n,a,o,c,i,s,l=arguments;return b.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return e=l.length>0&&void 0!==l[0]?l[0]:[],t=l.length>1?l[1]:void 0,r=l.length>2?l[2]:void 0,n=l.length>3?l[3]:void 0,a=e[0],o=a._id,c=a.createdAt,i=a.text,s=a.user,u.next=7,b.a.awrap(Object(O.j)(Object(O.c)(T,"chats/"+t),{uid:P.currentUser.uid,contacts:[{friendName:r,friendPhoneNumber:n}]}));case 7:Object(O.a)(Object(O.b)(T,"chats/"+t+"/"+n),{_id:o,createdAt:c,text:i,user:s}),Object(O.a)(Object(O.b)(T,"chats/"+n+"/"+t),{_id:o,createdAt:c,text:i,user:s});case 9:case"end":return u.stop()}}),null,null,null,Promise)}),[]);return Object(I.jsx)(h.a,{style:_.view,children:Object(I.jsx)(W.a,{messages:u,showAvatarForEveryMessage:!0,onSend:function(e){return G(e,R,j,k)},isLoadingEarlier:!0,showUserAvatar:!0,placeholder:"Chat Away...",renderInputToolbar:function(e){return function(e){return Object(I.jsx)(W.b,U(U({},e),{},{containerStyle:{borderRadius:10,marginHorizontal:5,justifyContent:"center"}}))}(e)},user:{_id:null==P||null==(t=P.currentUser)?void 0:t.uid,avatar:C}})})},G=r(209),D=function(e){e.route;var t=e.navigation,n=c.a.useState(),o=a()(n,2),i=o[0],l=o[1],u=c.a.useState(),d=a()(u,2),x=d[0],S=d[1],w=c.a.useState(),C=a()(w,2),E=C[0],R=C[1],k=c.a.useState(),L=a()(k,2),A=(L[0],L[1],c.a.useState(null)),W=a()(A,2),z=W[0],U=W[1],_=P.currentUser.phoneNumber,H=P.currentUser.uid,D=r(330),B=(Object(m.a)(),Object(y.c)(v,"images/ProfilePictures/"+H)),K=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:Object(y.a)(B).then((function(e){M(e)}));case 1:case"end":return e.stop()}}),null,null,null,Promise)},M=function(e){return b.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b.a.awrap(Object(O.j)(Object(O.c)(T,"users",_),{UID:H,firstName:i,lastName:x,email:E,phoneNumber:_,profilepictureURL:e}));case 3:t.replace("Main",{paramKey:_,paramToken:H}),r.next=10;break;case 6:r.prev=6,r.t0=r.catch(0),console.error("Error adding document: ",r.t0),alert("Something went wrong! Please try again.\ud83e\udd15");case 10:case"end":return r.stop()}}),null,null,[[0,6]],Promise)};return null!==z&&(D={uri:z.localUri}),Object(I.jsx)(h.a,{style:V.container,children:Object(I.jsxs)(h.a,{style:V.signUpView,children:[Object(I.jsx)(f.a,{style:V.textSignup,children:"Create Your Profile\ud83d\ude04"}),Object(I.jsx)(N.a,{onPress:function(){return function(){var e;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(G.b());case 2:if(!1!==t.sent.granted){t.next=6;break}return alert("Permission to access camera roll is required!"),t.abrupt("return");case 6:return t.next=8,b.a.awrap(G.a({allowsEditing:!0}));case 8:if(!0!==(e=t.sent).cancelled){t.next=11;break}return t.abrupt("return");case 11:U({localUri:e.uri});case 12:case"end":return t.stop()}}),null,null,null,Promise)}()},children:Object(I.jsx)(j.a,{style:V.profilepicture,source:D})}),Object(I.jsx)(f.a,{style:V.imageInfo,children:"*Click the Image to Pick your Profile Picture"}),Object(I.jsx)(f.a,{style:V.signUpTitle,children:"First Name"}),Object(I.jsx)(p.a,{style:V.textInput,onChangeText:function(e){return l(e)},placeholder:"Chit Chat",placeholderTextColor:s.WHITE}),Object(I.jsx)(f.a,{style:V.signUpTitle,children:"Last Name"}),Object(I.jsx)(p.a,{style:V.textInput,onChangeText:function(e){return S(e)},placeholder:"Chit Chat",placeholderTextColor:s.WHITE}),Object(I.jsx)(f.a,{style:V.signUpTitle,children:"Email"}),Object(I.jsx)(p.a,{style:V.textInput,onChangeText:function(e){return R(e)},placeholderTextColor:s.WHITE,placeholder:"example@email.com",keyboardType:"email-address"}),Object(I.jsx)(g.a,{style:V.btnRegister,onPress:function(){return function(e,t){var r,n;return b.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.a.awrap(fetch(e));case 2:return r=t.sent,t.next=5,b.a.awrap(r.blob());case 5:n=t.sent,Object(y.d)(B,n).then((function(e){K()}));case 7:case"end":return t.stop()}}),null,null,null,Promise)}(z.localUri)},children:Object(I.jsx)(f.a,{style:{color:s.Primary,fontWeight:"700",fontSize:20,padding:10},children:"Create My Account \u2705"})})]})})},V=i.a.create({container:{alignItems:"center",flex:1,backgroundColor:s.Secondary},signUpView:{backgroundColor:s.Primary,height:"85%",width:"55%",borderRadius:40,alignItems:"center",marginTop:"3%"},btnRegister:{backgroundColor:s.Secondary,borderRadius:10,marginTop:5},signUpTitle:{fontSize:20,color:s.Secondary,fontWeight:"600"},textSignup:{fontSize:35,color:s.Secondary,alignSelf:"center",marginBottom:15,fontWeight:"bold"},profilepicture:{resizeMode:"contain",height:200,width:200,borderRadius:40},imageInfo:{color:s.GREY,marginBottom:10},textInput:{marginVertical:15,borderWidth:2,borderRadius:10,borderColor:s.WHITE_GREY,color:s.Secondary,fontSize:20,height:40,width:300,textAlign:"center"}}),B=r(202),K=r(442),M=r(441),Y=r(211),F=r(297),J=i.a.create({container:{flex:1,backgroundColor:s.Primary},profilepicture:{resizeMode:"contain",height:140,width:140,borderRadius:40,marginVertical:20},pictureView:{alignItems:"center"},infoView:{backgroundColor:s.Secondary,alignItems:"center",borderRadius:30,width:"80%",height:255,marginTop:15},optionView:{backgroundColor:s.Secondary,alignItems:"center",borderRadius:30,width:"90%",height:365,marginTop:20},name:{fontSize:30,color:s.BLACK},phoneNumber:{fontSize:20,color:s.LIGHT_BLACK,marginTop:5},editInfo:{fontSize:15,marginVertical:10,color:s.LIGHT_BLACK},status:{color:s.BLACK}}),Q=function(e){e.route,e.navigation;var t=P.currentUser.uid,r=c.a.useState(),n=a()(r,2),o=n[0],i=n[1],s=c.a.useState(),l=a()(s,2),u=l[0],d=l[1],b=P.currentUser.phoneNumber,p=c.a.useState(),g=a()(p,2),m=g[0],x=g[1],S=Object(y.c)(v,"images/ProfilePictures/"+t),w=Object(M.a)({Roboto_400Regular:Y.a,Roboto_500Medium:Y.b});return a()(w,1)[0]?(Object(O.d)(Object(O.c)(T,"users",b)).then((function(e){e.exists()?(i(e.get("firstName")),d(e.get("lastName"))):console.log("No such document!")})),Object(y.a)(S).then((function(e){x(e)})).catch((function(e){console.log(e)})),Object(I.jsx)(K.a,{style:J.container,children:Object(I.jsx)(h.a,{style:J.pictureView,children:Object(I.jsxs)(h.a,{style:J.infoView,children:[Object(I.jsx)(j.a,{style:J.profilepicture,source:{uri:m}}),Object(I.jsx)(f.a,{style:J.name,children:o+" "+u}),Object(I.jsx)(f.a,{style:J.phoneNumber,children:b})]})})})):Object(I.jsx)(F.a,{})},X=r(273),q=i.a.create({container:{alignItems:"center",justifyContent:"center",backgroundColor:s.Primary,flex:1},btnChat:{backgroundColor:s.Secondary,borderRadius:10,marginTop:5},textInput:{marginTop:5,marginBottom:5,borderWidth:2,borderRadius:10,backgroundColor:s.SILVER,fontSize:20,height:40,width:300,textAlign:"center"},infoText:{color:s.Secondary,fontSize:20,marginTop:50}}),Z=function(e){e.route;var t=e.navigation,r=c.a.useState("+1"),n=a()(r,2),o=n[0],i=n[1],l=P.currentUser.phoneNumber;return Object(I.jsxs)(h.a,{style:q.container,children:[Object(I.jsx)(f.a,{style:q.infoText,children:"Who do you want to chat with:"}),Object(I.jsx)(p.a,{style:q.textInput,keyboardType:"phone-pad",placeholder:"+11234567899",onChangeText:function(e){return i(e.replace(/ /g,""))}}),Object(I.jsx)(g.a,{style:q.btnChat,onPress:function(){Object(O.d)(Object(O.c)(T,"users",o)).then((function(e){e.exists()?t.navigate("ChatScreen",{friendPhoneNumber:o,userPhoneNumber:l}):X.a.alert("This phone number hasn't registered to ChitChat yet! Invite them\ud83d\ude09")}))},children:Object(I.jsx)(f.a,{style:{color:s.Primary,fontWeight:"700",fontSize:20,padding:10},children:"Enter Chat"})})]})},$=r(448),ee=r(444),te=r(445),re=Object($.a)(),ne=function(e){e.route,e.navigation;var t=Object(B.a)();return Object(I.jsxs)(re.Navigator,{screenOptions:{drawerType:t.width>=768?"permanent":"back",headerShown:!1,drawerStyle:{backgroundColor:s.Secondary,width:"20%"},drawerActiveTintColor:s.Primary,drawerInactiveTintColor:s.DARK_GREY,drawerLabelStyle:{color:s.Primary}},children:[Object(I.jsx)(re.Screen,{name:"Profile",component:Q,options:{drawerLabelStyle:{fontSize:20,fontWeight:"bold",alignSelf:"center"},drawerIcon:function(e){return Object(I.jsx)(ee.a,{name:"user",size:30,color:s.Primary})}}}),Object(I.jsx)(re.Screen,{name:"Contact",component:Z,options:{drawerLabelStyle:{fontSize:20,fontWeight:"bold",alignSelf:"center"},drawerIcon:function(e){return Object(I.jsx)(te.a,{name:"contacts",size:30,color:s.Primary})}}}),Object(I.jsx)(re.Screen,{name:"ChatScreen",component:H,options:{drawerItemStyle:{display:"none"},headerShown:!0,headerTitleStyle:{color:"white",fontWeight:"bold"}}})]})},ae=Object(u.a)();function oe(){var e=c.a.useState("Home"),t=a()(e,2),r=t[0],n=t[1];return P.onAuthStateChanged((function(e){e&&n("Main")})),Object(I.jsx)(l.a,{children:Object(I.jsxs)(ae.Navigator,{initialRouteName:r,children:[Object(I.jsx)(ae.Screen,{name:"Home",component:k,options:{headerShown:!1}}),Object(I.jsx)(ae.Screen,{name:"Registration",component:D,options:{headerShown:!1}}),Object(I.jsx)(ae.Screen,{name:"Main",component:ne,options:{headerShown:!1}})]})})}i.a.create({})},301:function(e,t,r){e.exports=r(428)},313:function(e,t,r){e.exports=r.p+"static/media/Logo.23c9507f.png"},330:function(e,t,r){e.exports=r.p+"static/media/profilepicture.6e82b654.png"}},[[301,1,2]]]);
//# sourceMappingURL=app.ef436f24.chunk.js.map